<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <!-- <div>
        status node
    </div>
    <img src="./index.png" alt="" srcset=""> -->

    <form action="/api/save" method="post">
        <input type="text" name="abc" value="123">
        <input type="text" name="qwe" value="321">
        <input type="submit" value="save">
    </form>
    <button class="btn">btn</button>
    <button class="btn2">btn2</button>
</body>
</html>

<!-- <script>
    function callback({name}) {
        console.log(name)
        alert(name)
    }
    let script = document.createElement('script')
    script.type = 'text/javascript'
    script.src = `http://localhost:4000/api/users?callback=callback`

    document.querySelector('head').appendChild(script)
</script> -->

<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<!-- <script>
    (async () => {
        // axios.defaults.baseURL = 'http://localhost:4000'
        axios.defaults.withCredentials = true
        let options = {
            headers: {'X-token': 'token123'}
        }
        const res = await axios.post("/api/users", options)
        // const res = await axios.get("/api/users", options)
        console.log('data',res.data)
        document.writeln(`Response : ${JSON.stringify(res.data)}`)
    })()
</script> -->
<script>

    // axios.defaults.baseURL = 'http://localhost:4000'

    let btn = document.querySelector('.btn')
    btn.addEventListener('click', async ()=> {
        await axios.post("/api/save", {
            a: 1,
            b: 2
        })
    })

    let btn2 = document.querySelector('.btn2')
    btn2.addEventListener('click', async ()=> {
        // 模拟application/x-www-form-urlencoded
        await axios.post("/api/save", {
            a: 1,
            b: 2
        }, {
            headers: {
            'Content-Type': 'application/x-www-form-urlencoded',
            },
        })
    })
</script>

